(function(B,j){typeof exports=="object"&&typeof module<"u"?j(exports,require("react"),require("axios")):typeof define=="function"&&define.amd?define(["exports","react","axios"],j):(B=typeof globalThis<"u"?globalThis:B||self,j(B.InfoView={},B.React,B.axios))})(this,function(B,j,$){"use strict";var re={exports:{}},H={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var me;function we(){if(me)return H;me=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function m(a,o,l){var y=null;if(l!==void 0&&(y=""+l),o.key!==void 0&&(y=""+o.key),"key"in o){l={};for(var i in o)i!=="key"&&(l[i]=o[i])}else l=o;return o=l.ref,{$$typeof:r,type:a,key:y,ref:o!==void 0?o:null,props:l}}return H.Fragment=n,H.jsx=m,H.jsxs=m,H}var V={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var he;function Ne(){return he||(he=1,process.env.NODE_ENV!=="production"&&function(){function r(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===D?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case _:return"Fragment";case T:return"Profiler";case x:return"StrictMode";case R:return"Suspense";case P:return"SuspenseList";case ue:return"Activity"}if(typeof s=="object")switch(typeof s.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),s.$$typeof){case w:return"Portal";case C:return(s.displayName||"Context")+".Provider";case p:return(s._context.displayName||"Context")+".Consumer";case E:var g=s.render;return s=s.displayName,s||(s=g.displayName||g.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case O:return g=s.displayName||null,g!==null?g:r(s.type)||"Memo";case te:g=s._payload,s=s._init;try{return r(s(g))}catch{}}return null}function n(s){return""+s}function m(s){try{n(s);var g=!1}catch{g=!0}if(g){g=console;var k=g.error,L=typeof Symbol=="function"&&Symbol.toStringTag&&s[Symbol.toStringTag]||s.constructor.name||"Object";return k.call(g,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",L),n(s)}}function a(s){if(s===_)return"<>";if(typeof s=="object"&&s!==null&&s.$$typeof===te)return"<...>";try{var g=r(s);return g?"<"+g+">":"<...>"}catch{return"<...>"}}function o(){var s=Y.A;return s===null?null:s.getOwner()}function l(){return Error("react-stack-top-frame")}function y(s){if(F.call(s,"key")){var g=Object.getOwnPropertyDescriptor(s,"key").get;if(g&&g.isReactWarning)return!1}return s.key!==void 0}function i(s,g){function k(){U||(U=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",g))}k.isReactWarning=!0,Object.defineProperty(s,"key",{get:k,configurable:!0})}function u(){var s=r(this.type);return se[s]||(se[s]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),s=this.props.ref,s!==void 0?s:null}function c(s,g,k,L,I,M,t,N){return k=M.ref,s={$$typeof:S,type:s,key:g,props:M,_owner:I},(k!==void 0?k:null)!==null?Object.defineProperty(s,"ref",{enumerable:!1,get:u}):Object.defineProperty(s,"ref",{enumerable:!1,value:null}),s._store={},Object.defineProperty(s._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(s,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(s,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:t}),Object.defineProperty(s,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:N}),Object.freeze&&(Object.freeze(s.props),Object.freeze(s)),s}function d(s,g,k,L,I,M,t,N){var h=g.children;if(h!==void 0)if(L)if(X(h)){for(L=0;L<h.length;L++)f(h[L]);Object.freeze&&Object.freeze(h)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else f(h);if(F.call(g,"key")){h=r(s);var v=Object.keys(g).filter(function(z){return z!=="key"});L=0<v.length?"{key: someKey, "+v.join(": ..., ")+": ...}":"{key: someKey}",ae[h+L]||(v=0<v.length?"{"+v.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,L,h,v,h),ae[h+L]=!0)}if(h=null,k!==void 0&&(m(k),h=""+k),y(g)&&(m(g.key),h=""+g.key),"key"in g){k={};for(var A in g)A!=="key"&&(k[A]=g[A])}else k=g;return h&&i(k,typeof s=="function"?s.displayName||s.name||"Unknown":s),c(s,h,M,I,o(),k,t,N)}function f(s){typeof s=="object"&&s!==null&&s.$$typeof===S&&s._store&&(s._store.validated=1)}var b=j,S=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),p=Symbol.for("react.consumer"),C=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),ue=Symbol.for("react.activity"),D=Symbol.for("react.client.reference"),Y=b.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=Object.prototype.hasOwnProperty,X=Array.isArray,Z=console.createTask?console.createTask:function(){return null};b={react_stack_bottom_frame:function(s){return s()}};var U,se={},ee=b.react_stack_bottom_frame.bind(b,l)(),ne=Z(a(l)),ae={};V.Fragment=_,V.jsx=function(s,g,k,L,I){var M=1e4>Y.recentlyCreatedOwnerStacks++;return d(s,g,k,!1,L,I,M?Error("react-stack-top-frame"):ee,M?Z(a(s)):ne)},V.jsxs=function(s,g,k,L,I){var M=1e4>Y.recentlyCreatedOwnerStacks++;return d(s,g,k,!0,L,I,M?Error("react-stack-top-frame"):ee,M?Z(a(s)):ne)}}()),V}var fe;function ke(){return fe||(fe=1,process.env.NODE_ENV==="production"?re.exports=we():re.exports=Ne()),re.exports}var e=ke();function Se(r){return r.template?r.template:"tab"}function Ce(r){const n={};return Object.entries(r).forEach(([m,a])=>{const o=a.group||"General";n[o]||(n[o]={label:o,type:"fields",fields:[]}),n[o]?.fields?.push({name:m,...a})}),n}const J={12:"lg:col-span-12",11:"lg:col-span-11",10:"lg:col-span-10",9:"lg:col-span-9",8:"lg:col-span-8",7:"lg:col-span-7",6:"lg:col-span-6",5:"lg:col-span-5",4:"lg:col-span-4",3:"lg:col-span-3",2:"lg:col-span-2",1:"lg:col-span-1"};function q(r){return[1,2,3,4,5,6,7,8,9,10,11,12].includes(r)?r:6}async function Ee(r){if(navigator.clipboard&&navigator.clipboard.writeText)try{await navigator.clipboard.writeText(r)}catch(n){throw n}else{const n=document.createElement("textarea");n.value=r,document.body.appendChild(n),n.select();try{document.execCommand("copy")}catch(m){throw m}document.body.removeChild(n)}}const W=(r,n)=>typeof r=="string"?r.replace(/#(\w+)#/g,(m,a)=>n[a]!==void 0?String(n[a]):m):Array.isArray(r)?r.map(m=>W(m,n)):r&&typeof r=="object"?Object.fromEntries(Object.entries(r).map(([m,a])=>[W(m,n),W(a,n)])):r,xe=r=>{const n=Array.isArray(r?.data?.data)?r.data.data[0]:Array.isArray(r?.data)?r.data[0]:r?.data?.data??r?.data;return n&&typeof n=="object"&&!Array.isArray(n)?n:null},ge=(r,n,m)=>{const a=Array.isArray(m?.data?.data)?m.data.data:Array.isArray(m?.data)?m.data:m;if(!Array.isArray(a)||a.length===0)return{};const o={};return a.forEach(l=>{l[r]!=null&&l[n]!=null&&(o[l[r]]=l[n])}),o};function Te(r,n){if(!n||Object.keys(n).length===0)return r;if(typeof r=="number")return n[String(r)]??r;if(typeof r=="string"){const a=r.split(",").map(o=>o.trim()).map(o=>n[o]).filter(Boolean);return a.length?a.join(", "):r}return r}const pe="https://st.depositphotos.com/2101611/3925/v/450/depositphotos_39258143-stock-illustration-businessman-avatar-profile-picture.jpg";function K({field:r,data:n,methods:m={},sqlOpsUrls:a,refid:o}){const l=r?.name,y=`
    text-sm text-gray-600 break-words
  `,i=`
    block text-sm font-semibold  transition-all duration-300 text-gray-700 capitalize
  `,[u,c]=j.useState(r.options??{});j.useEffect(()=>{let w=!0;return(async()=>{if(r?.options){c(r.options);return}const x=r?.source??{};if(x.type==="method"){const T=x.method,p=T?m[T]:void 0;if(p)try{const C=await Promise.resolve(p());w&&c(C??{})}catch(C){console.error("Method execution failed:",C),w&&c({})}else w&&c({})}if(x.type==="api"&&x.url)try{const T=await $({method:x.method||"GET",url:x.url,data:x.body??{},params:x.params??{},headers:x.headers??{}}),p=r.valueKey||"value",C=r.labelKey||"title",E=ge(p,C,T);w&&c(E)}catch(T){console.error("API execution failed:",T),w&&c({})}if(r.table||r.type==="dataSelector"){if(!a){console.error("SQL source requires formJson.endPoints but it is missing");return}try{let T;if(r.type==="dataSelector")T={...r,table:"do_lists",cols:"title,value",where:{groupid:r.groupid??""}};else{if(!r.table||!r.columns){console.error("Invalid SQL field config",r);return}T={...r,table:r.table,cols:r.columns}}r.where&&r.type!=="dataSelector"&&(T.where=o?W(r.where,{refid:o}):r.where);const p=await $({method:"POST",url:a.baseURL+a.registerQuery,data:{query:T},headers:{Authorization:`Bearer ${a?.accessToken}`}}),C=await $({method:"POST",url:a.baseURL+a.runQuery,data:{queryid:p.data.queryid,filter:{}},headers:{Authorization:`Bearer ${a?.accessToken}`}}),E=r.valueKey||"value",R=r.labelKey||"title",P=ge(E,R,C);w&&c(P)}catch(T){console.error("API fetch failed:",T)}}})(),()=>{w=!1}},[r.options,r.source,r.table,r.columns,r.where,o]);const d=typeof l=="string"?n?.[l]:void 0,f=Te(d,u),b=typeof l=="string"&&(l.toLowerCase().includes("avatar")||l.toLowerCase().includes("logo")),S=f==null?"":typeof f=="string"||typeof f=="number"?f:JSON.stringify(f);return e.jsxs("div",{className:"px-3 py-2 bg-gray-50 rounded-lg",children:[e.jsx("label",{className:i,children:r?.label}),e.jsx("div",{className:"relative",children:b?e.jsx("img",{src:String(f),alt:"avatar",className:"w-16 h-16 rounded-full object-cover border",onError:w=>{const _=w.currentTarget;_.onerror=null,_.src=pe}}):e.jsx("p",{className:y,children:S})})]})}function Ae({commonInfo:r,infoData:n,hiddenFields:m=[]}){return e.jsx("div",{className:"bg-white border border-gray-100 p-4 min-h-3/10 overflow-auto",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[e.jsx("div",{className:"lg:col-span-2 flex flex-col items-center",children:e.jsx("div",{className:"relative w-42 h-42",children:e.jsx("img",{src:String(n.avatar_photo),alt:"Profile",className:" w-full h-full object-cover border-4 rounded-[12px] border-white shadow-lg",onError:a=>{const o=a.currentTarget;o.onerror=null,o.src=pe}})})}),e.jsx("div",{className:"lg:col-span-10 min-h-0 max-h-40  overflow-y-auto custom-scrollbar",children:e.jsx("div",{className:"grid grid-cols-12 gap-2",children:r.fields?.map((a,o)=>{const l=n?.[a.name];return m.includes(a.name)||!l&&l!==!1&&l!==0?null:e.jsx("div",{className:`hover:bg-gray-100 transition-colors duration-200 col-span-12 sm:col-span-6 ${J[q(a.width)]||"lg:col-span-4"}`,children:e.jsx(K,{field:a,data:n??{}},a?.name||o)},a.name)})})})]})})}function ce({tabObj:r,methods:n,tabName:m,sqlOpsUrls:a,refid:o}){const[l,y]=j.useState(null);return j.useEffect(()=>{let i=!1;return(async()=>{const c=r?.config;if(!c?.type){i||y(null);return}if(c.type==="method"){const d=c.method,f=d?n[d]:void 0;if(f)try{const b=await Promise.resolve(f());i||y(b||null)}catch(b){console.error("Method execution failed:",b),i||y(null)}else i||y(null)}if(c.type==="api")try{const d=await $({method:c.method||"GET",url:c.url,data:c.body||{},params:c.params||{},headers:c.headers||{}});i||y(d.data||null)}catch(d){console.error("API fetch failed:",d),i||y(null)}if(c.type==="sql"&&o&&o!="0"){if(!a){console.error("SQL source requires formJson.endPoints but it is missing");return}try{const d=await $({method:"POST",url:a.baseURL+a.registerQuery,data:{query:{...c,cols:c.cols,table:c.table,where:W(c.where,{refid:c.refid})}},headers:{Authorization:`Bearer ${a?.accessToken}`}}),f=await $({method:"POST",url:a.baseURL+a.runQuery,data:{queryid:d.data.queryid,filter:{}},headers:{Authorization:`Bearer ${a?.accessToken}`}}),b=xe(f);i||y(b)}catch(d){console.error("API fetch failed:",d)}}})(),()=>{i=!0}},[r?.config?.type||"",r?.config?.method||"",r?.config?.url||"",JSON.stringify(r?.config?.params||{}),JSON.stringify(r?.config?.body||{}),JSON.stringify(r?.config?.headers||{})]),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsx("div",{className:"grid grid-cols-12 gap-2",children:l?Object.keys(l).map((i,u)=>e.jsx("div",{className:`col-span-12 sm:col-span-6 ${J[q(r.width)]||"lg:col-span-2"}`,children:e.jsx(K,{field:{name:i,label:i},data:l??{},methods:n,refid:o,sqlOpsUrls:a},i)},`field-${u}`)):e.jsx("div",{className:"col-span-12 flex flex-col  min-h-0",children:e.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center text-gray-500",children:[e.jsx("div",{className:"w-16 h-16 mb-4 rounded-full bg-gray-100 flex items-center justify-center",children:e.jsxs("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m8 7 4-4 4 4"})]})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Data Available"}),e.jsx("p",{className:"text-sm text-gray-500 text-center max-w-sm",children:"There are no records to display  at the moment."})]})})})})}function de({tabObj:r,methods:n,tabName:m,sqlOpsUrls:a,refid:o}){const[l,y]=j.useState(1),[i,u]=j.useState(10),[c,d]=j.useState(""),[f,b]=j.useState([]),S=j.useRef(null),[w,_]=j.useState(null),[x,T]=j.useState({key:"",direction:null});j.useEffect(()=>{let t=!1;return(async()=>{const h=r?.config;if(!h?.type){t||b([]);return}if(h.type==="method"){const v=h.method,A=v?n[v]:void 0;if(A)try{const z=await Promise.resolve(A());t||b(z||[])}catch{t||b([])}else t||b([])}if(h.type==="api")try{const v=await $({method:h.method||"GET",url:h.url,data:h.body||{},params:h.params||{},headers:h.headers||{}});t||b(v.data||{})}catch(v){console.error("API fetch failed:",v),t||b([])}if(h.type==="sql"&&o&&o!="0"){if(!a){console.error("SQL source requires formJson.endPoints but it is missing");return}try{const{form:v,actions:A,uimode:z,type:oe,unilinks:le,DEBUG:ie,...Q}=h,G=await $({method:"POST",url:a.baseURL+a.registerQuery,data:{query:{...Q,where:W(h.where,{refid:o})}},headers:{Authorization:`Bearer ${a?.accessToken}`}}),ve=await $({method:"POST",url:a.baseURL+a.runQuery,data:{queryid:G.data.queryid,filter:{}},headers:{Authorization:`Bearer ${a?.accessToken}`}});t||b(ve.data?.data??ve.data??{})}catch(v){console.error("API fetch failed:",v)}}})(),()=>{t=!0}},[r?.config?.type||"",r?.config?.method||"",r?.config?.url||"",JSON.stringify(r?.config?.params||{}),JSON.stringify(r?.config?.body||{}),JSON.stringify(r?.config?.headers||{})]);const p=Array.isArray(f)?f:[f],E=(t=>{const N=new Set;return t.forEach(h=>{h&&typeof h=="object"&&Object.keys(h).forEach(v=>N.add(v))}),Array.from(N)})(p),R=r?.vmode==="edit",P=r?.config?.form&&Object.keys(r.config.form).length>0,O=r?.config?.info&&Object.keys(r.config.info).length>0,te=t=>{let N="asc";x.key===t&&x.direction==="asc"?N="desc":x.key===t&&x.direction==="desc"&&(N=null),T({key:t,direction:N})},ue=t=>!x.key||!x.direction?t:[...t].sort((N,h)=>{const v=N[x.key],A=h[x.key];if(v==null)return x.direction==="asc"?1:-1;if(A==null)return x.direction==="asc"?-1:1;if(typeof v=="boolean"&&typeof A=="boolean")return x.direction==="asc"?v===A?0:v?-1:1:v===A?0:v?1:-1;const z=new Date(v),oe=new Date(A);if(!isNaN(z.getTime())&&!isNaN(oe.getTime()))return x.direction==="asc"?z.getTime()-oe.getTime():oe.getTime()-z.getTime();const le=parseFloat(v),ie=parseFloat(A);if(!isNaN(le)&&!isNaN(ie))return x.direction==="asc"?le-ie:ie-le;const Q=String(v).toLowerCase(),G=String(A).toLowerCase();return x.direction==="asc"?Q<G?-1:Q>G?1:0:Q>G?-1:Q<G?1:0}),D=j.useMemo(()=>{let t=p;if(c.trim()){const N=c.toLowerCase();t=p.filter(h=>E.some(v=>{const A=h[v];return A==null?!1:String(A).toLowerCase().includes(N)}))}return ue(t)},[p,c,E,x]),Y=Math.ceil(D.length/i),F=(l-1)*i,X=F+i,Z=D.slice(F,X),U=t=>{y(Math.max(1,Math.min(t,Y)))},se=t=>{u(t),y(1)},ee=()=>{d("")},ne=(t,N)=>{n?.editInfoRecord?.(t,m)},ae=t=>{n?.viewInfoRecord?.(t,r?.config?.info)},s=(t,N)=>{n?.deleteInfoRecord?.(t,m)},g=()=>{n?.addInfoRecord?.(r?.config?.form,m)},k=t=>t.split("_").map(N=>N.charAt(0).toUpperCase()+N.slice(1)).join(" "),L=(t,N)=>{if(t==null||t==="")return e.jsx("span",{className:"text-gray-400 italic",children:"-"});if(typeof t=="boolean")return e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${t?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:t?"Yes":"No"});switch(N?.toLowerCase()){case"checkbox":return e.jsx("input",{type:"checkbox",checked:!!t,readOnly:!0,className:"w-4 h-4 text-green-600 accent-green-600 cursor-default"});case"date":return new Date(t).toLocaleDateString();case"time":return new Date(t).toLocaleTimeString();case"datetime":return new Date(t).toLocaleString();case"currency":if(typeof t=="number")return new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",minimumFractionDigits:2}).format(t);case"number":case"num":return e.jsx("span",{className:"text-center",children:Number(t).toLocaleString()});case"url":return t?e.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:t}):null;case"email":return t?e.jsx("a",{href:`mailto:${t}`,className:"text-blue-600 hover:text-blue-800 hover:underline transition-colors",children:t}):null;case"tel":case"mob":case"phone":case"mobile":return t?e.jsx("a",{href:`tel:${t}`,className:"text-blue-600 hover:text-blue-800 hover:underline transition-colors",children:t}):null;case"geoloc":case"geolocation":case"geoaddress":return t?e.jsx("a",{href:`https://www.google.com/maps/place/${encodeURIComponent(t)}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:t}):null;case"color":return t?e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("span",{className:"w-5 h-5 rounded-full border",style:{backgroundColor:t}})}):null;case"avatar":return e.jsx("img",{src:t||"/images/user.png",alt:"avatar",className:"w-8 h-8 rounded-full object-cover"});case"photo":case"picture":case"media":return e.jsx("img",{src:t||"/images/noimg.png",alt:"media",className:"w-12 h-12 rounded object-cover"});case"file":case"attachment":return t?e.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:"FILE"}):"No File";case"json":try{const h=typeof t=="string"?JSON.parse(t):t;return e.jsx("pre",{className:"whitespace-pre-wrap text-xs bg-gray-100 p-2 rounded",children:JSON.stringify(h,null,2)})}catch{return String(t)}case"pretty":return e.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-700 bg-gray-100 p-2 rounded",children:typeof t=="object"?JSON.stringify(t,null,2):String(t)});case"uppercase":return String(t).toUpperCase();case"lowercase":return String(t).toLowerCase();case"html":return e.jsx("div",{dangerouslySetInnerHTML:{__html:t}});default:return String(t)}},I=(t,N)=>{Ee(t).then(()=>{_(N),S.current&&clearTimeout(S.current),S.current=setTimeout(()=>{_("")},2e3)}).catch(()=>{_("")})},M=j.useMemo(()=>({totalRows:D.length,columns:E.length,currentPageStart:F+1,currentPageEnd:Math.min(X,D.length),isFiltered:c.trim().length>0}),[D,p,E,F,X]);return p.length===0||E.length===0?e.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center text-gray-500",children:[e.jsx("div",{className:"w-16 h-16 mb-4 rounded-full bg-gray-100 flex items-center justify-center",children:e.jsxs("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m8 7 4-4 4 4"})]})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Data Available"}),e.jsx("p",{className:"text-sm text-gray-500 text-center max-w-sm",children:"There are no records to display in the grid view at the moment."}),P&&e.jsxs("button",{onClick:g,className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-action cursor-pointer",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Record"]})]}):e.jsxs("div",{className:"w-full overflow-hidden flex-1 flex flex-col",children:[e.jsxs("div",{className:"my-4 mx-2 flex  gap-4 justify-between items-start sm:items-center",children:[e.jsx("div",{className:"flex-1 max-w-md",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("input",{type:"text",placeholder:"Search across all columns...",value:c,onChange:t=>d(t.target.value),className:"block w-full px-10 py-2 border border-gray-300 rounded-lg text-sm placeholder-gray-500  focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent "}),c&&e.jsx("button",{onClick:ee,className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",title:"Clear search",children:e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),P&&e.jsxs("button",{onClick:g,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-action cursor-pointer",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Record"]})]}),e.jsxs("div",{className:"flex items-center justify-between py-1 border-t border-gray-200 ",children:[e.jsx("div",{className:"flex items-center gap-6 text-sm",children:e.jsx("span",{className:"flex items-center gap-2",children:e.jsxs("span",{className:"text-gray-600",children:["Showing ",e.jsxs("strong",{className:"text-gray-900",children:[M.currentPageStart,"-",M.currentPageEnd]})," of ",e.jsx("strong",{className:"text-gray-900",children:M.totalRows})," records"]})})}),e.jsxs("div",{className:"flex-1 flex justify-end gap-4",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Show:"}),e.jsxs("select",{value:i,onChange:t=>se(Number(t.target.value)),className:"border border-gray-300 text-gray-900 rounded px-1 py-1 text-sm outline-0",children:[e.jsx("option",{value:5,children:"5"}),e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:25,children:"25"}),e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"})]}),e.jsx("span",{className:"text-gray-600",children:"per page"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>U(l-1),disabled:l===1,className:"flex items-center gap-2 text-sm font-medium text-action cursor-pointer bg-white rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("span",{className:"flex items-center gap-2 text-sm",children:e.jsxs("span",{className:"text-gray-600",children:["Page ",e.jsx("strong",{className:"text-gray-900",children:l})," of ",e.jsx("strong",{className:"text-gray-900",children:Y})]})}),e.jsx("button",{onClick:()=>U(l+1),disabled:l===Y,className:"flex items-center gap-2 text-sm font-medium text-action cursor-pointer bg-white rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})]}),D.length===0&&c.trim()&&e.jsxs("div",{className:"h-full flex flex-1 flex-col items-center justify-center py-22 text-gray-500",children:[e.jsx("div",{className:"w-16 h-16 mb-4 rounded-full bg-gray-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Results Found"}),e.jsxs("p",{className:"text-sm text-gray-500 text-center max-w-sm mb-4",children:["No records match your search for ",e.jsxs("strong",{children:['"',c,'"']})]}),e.jsx("button",{onClick:ee,className:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 cursor-pointer",children:"Clear Search"})]}),D.length>0&&e.jsx(e.Fragment,{children:e.jsx("div",{className:" overflow-auto min-w-full divide-y divide-gray-200 border border-gray-200 bordr-t",children:e.jsxs("table",{className:"min-w-full h-full",children:[e.jsx("thead",{className:" text-action",children:e.jsxs("tr",{children:[R&&e.jsx("th",{scope:"col",className:"bg-muted px-4 sm:px-6 py-2 text-left text-xs font-bold uppercase tracking-wider w-32 sticky top-0 left-0 z-20",children:"Actions"}),E.map((t,N)=>e.jsx("th",{scope:"col",className:"bg-muted sticky top-0 z-0 px-4 sm:px-6 py-2 text-left text-xs font-bold uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center gap-1 cursor-pointer select-none",onClick:()=>te(t),children:[e.jsx("span",{className:"truncate",title:k(t),children:k(t)}),x?.key===t?x.direction==="asc"?e.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M5 12l5-5 5 5H5z"})}):e.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M5 8l5 5 5-5H5z"})}):e.jsx("svg",{className:"w-4 h-4 text-gray-400 group-hover:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})})]})},t))]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200 ",children:Z.map((t,N)=>e.jsxs("tr",{className:`hover:bg-secondary transition-colors duration-150 ${N%2===0?"bg-white":"bg-gray-50"}`,children:[R&&e.jsx("td",{className:"px-4 sm:px-6 py-1 whitespace-nowrap text-sm bg-muted text-gray-900 sticky left-0 z-10",children:e.jsxs("div",{className:"flex items-center gap-2",children:[O&&e.jsx("button",{onClick:()=>ae(t),className:"inline-flex items-center px-2 py-1 text-xs font-medium rounded cursor-pointer text-action",title:"View",children:e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),e.jsx("button",{onClick:()=>ne(t),className:"inline-flex items-center px-2 py-1 text-xs font-medium rounded cursor-pointer text-action",title:"Edit",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),e.jsx("button",{onClick:()=>s(t),className:"text-red-600 hover:text-red-800 cursor-pointer transition-colors p-1 hover:bg-red-100 rounded",title:"Delete",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})}),E.map(h=>e.jsx("td",{className:"px-4 sm:px-6 py-1 text-sm text-gray-900",children:e.jsxs("div",{className:"relative group flex items-center",children:[e.jsx("div",{className:"truncate max-w-xs sm:max-w-none",children:L(t[h]??"",h)}),e.jsx("button",{onClick:()=>I(t[h]||"",`${t.id}-${h}`),className:"absolute -right-4 flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2 p-1 rounded bg-gray-50 hover:bg-gray-100 cursor-pointer",title:"Copy",children:w===`${t.id}-${h}`?e.jsx(e.Fragment,{children:e.jsx("span",{className:"text-xs text-gray-600",children:"Copied!"})}):e.jsx("i",{className:"fa-regular fa-copy"})})]})},h))]},F+N))})]})})})]})}const ye=({groups:r,groupNames:n,setActiveTabIndex:m,activeTabIndex:a})=>e.jsx("nav",{className:"flex flex-col overflow-y-auto h-full px-2 py-1 space-y-1",children:n.length>0?n.map((o,l)=>e.jsx("button",{type:"button",onClick:()=>m(l),className:`cursor-pointer w-full text-left py-2 px-3 rounded-md text-sm font-semibold transition-all duration-200 ${a===l?"bg-white shadow text-action":"text-gray-600 hover:bg-white/50"}`,children:e.jsx("span",{className:"truncate",children:r[o]?.label||o})},o)):e.jsx("div",{className:"py-3 px-2 text-sm text-gray-500",children:"No group available"})}),Le=({groups:r,groupNames:n,setActiveTabIndex:m,activeTabIndex:a,layoutConfig:o,showScrollHint:l,isCommonInfo:y,tabsNavRef:i})=>{const[u,c]=j.useState(!1),d=j.useRef(null);return j.useEffect(()=>{const f=b=>{d.current&&!d.current.contains(b.target)&&c(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]),e.jsxs("div",{className:o?.tabNavClass||"relative z-10",children:[l&&e.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 z-20 w-12 flex items-center justify-center",children:e.jsx("button",{onClick:()=>i.current?.scrollBy({left:-200,behavior:"smooth"}),className:"w-8 h-8 bg-white/90 backdrop-blur-sm rounded-full shadow-lg border border-gray-200 flex items-center justify-center hover:bg-white hover:shadow-xl transition-all duration-200 group",children:e.jsx("svg",{className:"w-4 h-4 text-gray-600 group-hover:text-gray-800 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})}),e.jsxs("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 z-20 w-18 flex items-center justify-between pr-1",children:[l&&e.jsx("button",{onClick:()=>i.current?.scrollBy({left:200,behavior:"smooth"}),className:"w-8 h-8 bg-white/90 backdrop-blur-sm rounded-full shadow-lg border border-gray-200 flex items-center justify-center hover:bg-white hover:shadow-xl transition-all duration-200 group",children:e.jsx("svg",{className:"w-4 h-4 text-gray-600 group-hover:text-gray-800 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),e.jsxs("div",{className:"relative",ref:d,children:[e.jsx("button",{onClick:()=>c(!u),className:"ml-1 w-8 h-8 bg-white/90 backdrop-blur-sm rounded-full shadow-lg border border-gray-200 flex items-center justify-center hover:bg-white hover:shadow-xl transition-all duration-200",children:"â‹®"}),u&&e.jsx("div",{className:"absolute right-0 mt-2 w-48 max-h-100 overflow-y-auto bg-white border border-gray-200 rounded-lg shadow-lg z-30",children:n.map((f,b)=>e.jsx("button",{type:"button",onClick:()=>{m(b),c(!1)},className:`w-full text-left px-3 py-2 text-sm truncate hover:bg-gray-100 ${a===b?"bg-gray-50 font-semibold text-action":"text-gray-700"}`,children:r[f]?.label||f},f))})]})]}),e.jsx("div",{className:`relative bg-gray-100 ${y?"":"rounded-t-lg"} px-12 pt-1 shadow-inner overflow-hidden`,children:e.jsx("nav",{ref:i,className:"relative flex overflow-x-auto scrollbar-hide scroll-smooth",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:n.length>0?n.map((f,b)=>e.jsx("button",{type:"button",onClick:()=>m(b),className:`relative cursor-pointer flex-shrink-0
            min-w-[8rem]   
            py-2 px-8
            rounded-t-lg text-xs sm:text-sm font-semibold
            transition-all duration-300 ease-out
            focus:outline-none whitespace-nowrap
            ${a===b?"text-action bg-white":"text-gray-600 hover:text-gray-800 hover:bg-white/50"}`,children:e.jsx("span",{className:"relative z-10 flex items-center justify-center gap-1 sm:gap-2",children:e.jsx("span",{className:"truncate",children:r[f]?.label||f})})},f)):e.jsx("div",{className:"py-3 px-6 text-sm text-gray-500",children:"No group available"})})})]})},be=({groupNames:r,activeTabIndex:n,layoutConfig:m,tabObj:a,infoData:o,setActiveTabIndex:l,renderView:y,methods:i={},refid:u,sqlOpsUrls:c})=>e.jsxs("div",{className:"bg-white rounded-b-lg border  border-t-0 border-gray-100 p-3 animate-in fade-in duration-300 flex-1 flex flex-col min-h-0",children:[r.length>0?a?.fields?e.jsx("div",{className:"flex-1 flex flex-col overflow-y-auto min-h-0",children:e.jsx("div",{className:m?.fieldGridClass||"grid grid-cols-12 gap-2",children:a.fields.map((d,f)=>e.jsx("div",{className:`col-span-12 sm:col-span-6 ${J[q(d.width)]||"lg:col-span-2"}`,children:e.jsx(K,{field:d,data:o??{},methods:i,refid:u,sqlOpsUrls:c})},d?.name??`field-${f}`))})}):a?e.jsx("div",{className:"flex-1 flex flex-col overflow-y-auto min-h-0",children:y(a,r[n]||"")}):null:e.jsx("div",{className:"flex-1 col-span-full text-center py-8 text-gray-500",children:"No data available"}),r.length>5&&e.jsxs("div",{className:"mt-10 pt-2 border-t border-gray-100 flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsxs("span",{children:["Tab ",n+1," of ",r.length]}),e.jsxs("div",{className:"flex gap-1",children:[r.slice(0,5).map((d,f)=>e.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${f===n?"bg-action w-6":"bg-gray-300"}`},f)),r.length>5&&e.jsxs("span",{className:"text-xs text-gray-400 ml-1",children:["+",r.length-5]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>l(Math.max(0,n-1)),disabled:n===0,className:"px-3 py-1 text-sm font-medium text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),e.jsx("button",{onClick:()=>l(Math.min(r.length-1,n+1)),disabled:n===r.length-1,className:"px-3 py-1 text-sm font-medium text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),r.length<=5&&e.jsx("div",{className:"mt-6 pt-3 border-t border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[e.jsxs("span",{children:["Tab ",n+1," of ",r.length]}),e.jsx("div",{className:"flex gap-1",children:r.map((d,f)=>e.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${f===n?"bg-action w-6":"bg-gray-300"}`},f))})]})})]},r[n]);function je({groups:r,methods:n={},infoData:m,viewRenderers:a={},isCommonInfo:o,layoutConfig:l={},viewMode:y,sqlOpsUrls:i={},refid:u}){const[c,d]=j.useState(0),[f,b]=j.useState(!1),S=j.useRef(null),w=Object.keys(r);j.useEffect(()=>{const P=()=>{if(S.current){const O=S.current;b(O.scrollWidth>O.clientWidth)}};return P(),window.addEventListener("resize",P),()=>window.removeEventListener("resize",P)},[w.length]),j.useEffect(()=>{if(S.current&&w.length>0){const P=S.current.children[c];P&&P.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}},[c,w.length]);const _=y==="tableft",x=y==="tabright",T=!_&&!x,p=r[w[c]??""]||null,C={single:(P,O)=>e.jsx(ce,{tabObj:P,methods:n,tabName:O,sqlOpsUrls:i,refid:u}),grid:(P,O)=>e.jsx(de,{tabObj:P,methods:n,tabName:O,sqlOpsUrls:i,refid:u})},E=p?.config?.uimode,R=a[E]||C[E]||(()=>e.jsx("div",{className:"flex-1 flex justify-center p-4",children:"No UI mode for this type"}));return T?e.jsxs("div",{className:"flex-1 flex flex-col min-h-0 max-h-screen",children:[e.jsx(Le,{groupNames:w,groups:r,setActiveTabIndex:d,activeTabIndex:c,tabsNavRef:S,isCommonInfo:o,showScrollHint:f,layoutConfig:l}),e.jsx(be,{groupNames:w,activeTabIndex:c,layoutConfig:l,tabObj:p,infoData:m,setActiveTabIndex:d,renderView:R,groups:r,methods:n,refid:u,sqlOpsUrls:i})]}):e.jsxs("div",{className:"flex-1 flex min-h-0 max-h-screen",children:[_&&e.jsx("aside",{className:"flex-shrink-0 w-56 border-r border-gray-200 bg-gray-50 p-2",children:e.jsx(ye,{groupNames:w,groups:r,setActiveTabIndex:d,activeTabIndex:c})}),e.jsx("main",{className:"flex-1 flex flex-col min-h-0 overflow-auto",children:e.jsx(be,{groupNames:w,activeTabIndex:c,layoutConfig:l,tabObj:p,infoData:m,setActiveTabIndex:d,renderView:R,groups:r,methods:n,refid:u,sqlOpsUrls:i})}),x&&e.jsx("aside",{className:"flex-shrink-0 w-56 border-l border-gray-200 bg-gray-50 p-2",children:e.jsx(ye,{groupNames:w,groups:r,setActiveTabIndex:d,activeTabIndex:c})})]})}function Pe({title:r,children:n,isFirst:m}){const[a,o]=j.useState(m);return e.jsx("div",{className:"group relative mt-1 flex-1 flex flex-col min-h-0 max-h-screen",children:e.jsxs("div",{className:"flex-1 flex flex-col min-h-0 relative bg-white rounded-lg border border-gray-100 shadow-xs hover:shadow-sm transition-all duration-300 overflow-hidden ",children:[e.jsxs("button",{onClick:()=>o(!a),className:"w-full bg-gray-50 flex justify-between items-center px-6 py-3 b text-left transition-all duration-300 ",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full transition-all duration-300 ${a?"bg-action":"bg-gray-300"}`}),e.jsx("h3",{className:"text-md capitalize font-semibold bg-gradient-to-r from-gray-800 to-gray-600 bg-clip-text text-transparent",children:r})]}),e.jsxs("div",{className:`relative transition-all duration-300 ${a?"rotate-180":""}`,children:[e.jsx("div",{className:`absolute inset-0 rounded-full blur-md transition-opacity duration-300 ${a?"bg-action opacity-30":"bg-transparent opacity-0"}`}),e.jsx("svg",{className:"relative w-4 h-4 text-gray-500 group-hover:text-action-500 transition-colors duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),e.jsx("div",{className:`flex-1 flex flex-col min-h-0 transition-all  duration-500 ease-in-out overflow-hidden ${a?"max-h-full opacity-100":"max-h-0 opacity-0"}`,children:e.jsx("div",{className:"px-6 pb-6 bg-gradient-to-br from-gray-50/50 to-white flex-1 flex flex-col min-h-0",children:e.jsx("div",{className:"space-y-5 pt-4 flex-1 flex flex-col min-h-0 overflow-y-auto",children:n})})})]})})}function _e({groups:r,methods:n={},infoData:m,viewRenderers:a={},sqlOpsUrls:o={},refid:l}){const y={single:(i,u)=>e.jsx(ce,{tabObj:i,methods:n,tabName:u,sqlOpsUrls:o,refid:l}),grid:(i,u)=>e.jsx(de,{tabObj:i,methods:n,tabName:u,sqlOpsUrls:o,refid:l})};return e.jsx("div",{className:"bg-white animate-in fade-in duration-300 rounded-b-2xl border-t-0 border border-gray-100",children:e.jsx("div",{className:"p-4 mx-auto",children:e.jsx("div",{className:"space-y-2 flex flex-col min-h-0",children:r&&Object.entries(r).map(([i,u],c)=>e.jsx(Pe,{title:i,isFirst:c===0,children:u?.fields?e.jsx("div",{className:"flex-1 flex flex-col overflow-y-auto min-h-0",children:e.jsx("div",{className:"grid grid-cols-12 gap-2",children:u.fields.map((d,f)=>e.jsx("div",{className:`col-span-12 sm:col-span-6 ${J[q(d.width)]||"lg:col-span-2"}`,children:e.jsx(K,{methods:n,field:d,data:m??{},sqlOpsUrls:o,refid:l})},d?.name??`field-${f}`))})}):u?e.jsx("div",{className:"flex-1 flex flex-col overflow-y-auto min-h-0",children:a[u.config?.uimode]?.(u)||y[u.config?.uimode]?.(u,i)||e.jsx("div",{children:"No renderer for this type"})}):null},i))})})})}function Re({title:r,children:n}){return e.jsx("div",{className:"group relative mt-1 flex-1 flex flex-col min-h-0 max-h-screen",children:e.jsxs("div",{className:"flex flex-col min-h-0 relative  bg-white rounded-lg border border-gray-100 shadow-sm hover:shadow-lg transition-all duration-300 overflow-hidden ",children:[e.jsx("button",{className:"w-full bg-gray-50 flex justify-between items-center px-6 py-3 b text-left transition-all duration-300 ",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-3 h-3 rounded-full transition-all duration-300 bg-action"}),e.jsx("h3",{className:"text-md font-semibold bg-gradient-to-r capitalize from-gray-800 to-gray-600 bg-clip-text text-transparent",children:r})]})}),e.jsx("div",{className:`flex flex-col min-h-0 transition-all duration-500 ease-in-out opacity-100'
            }`,children:e.jsx("div",{className:"px-6 pb-6 bg-gradient-to-br from-gray-50/50 to-white flex flex-col min-h-0",children:e.jsx("div",{className:"space-y-5 pt-4 flex-1 flex flex-col min-h-0 overflow-y-auto",children:n})})})]})})}function Me({groups:r,methods:n={},infoData:m,viewRenderers:a={},sqlOpsUrls:o={},refid:l}){const y={single:(i,u)=>e.jsx(ce,{tabObj:i,methods:n,tabName:u,sqlOpsUrls:o,refid:l}),grid:(i,u)=>e.jsx(de,{tabObj:i,methods:n,tabName:u,sqlOpsUrls:o,refid:l})};return e.jsx("div",{className:"bg-white animate-in fade-in duration-300 rounded-b-2xl border-t-0 border border-gray-100",children:e.jsx("div",{className:"p-4 mx-auto",children:e.jsx("div",{className:"space-y-2  flex flex-col min-h-0",children:r&&Object.entries(r).map(([i,u],c)=>e.jsx(Re,{title:i,children:u?.fields?e.jsx("div",{className:"flex-1 flex flex-col overflow-y-auto min-h-0",children:e.jsx("div",{className:"grid grid-cols-12 gap-2",children:u.fields.map((d,f)=>e.jsx("div",{className:`col-span-12 sm:col-span-6 ${J[q(d.width)]||"lg:col-span-2"}`,children:e.jsx(K,{methods:n,field:d,data:m??{},sqlOpsUrls:o,refid:l})},d?.name??`field-${f}`))})}):u?e.jsx("div",{className:"flex-1 flex flex-col overflow-y-auto min-h-0",children:a[u.config?.uimode]?.(u)||y[u.config?.uimode]?.(u,i)||e.jsx("div",{children:"No renderer for this type"})}):null},i))})})})}function $e({infoViewJson:r,data:n={},hiddenFields:m=[],groupFieldsFn:a=Ce,layoutConfig:o={},viewRenderers:l={},methods:y={}}){const[i,u]=j.useState({}),c=Se(r.infoview??{}),d=r.endPoints??{},f=j.useMemo(()=>a(r.fields||{}),[r.fields,a]),b=r?.source?.refid;let S={...f};r.infoview?.groups&&(S={...S,...r.infoview.groups}),j.useEffect(()=>{let x=!1;return(async()=>{const p=r?.source;if(!p?.type){x||u({});return}if(p.type==="method"){const C=p.method,E=C?y[C]:void 0;if(E)try{const R=await Promise.resolve(E());x||u(R||{})}catch(R){console.error("Method execution failed:",R),x||u({})}else x||u({})}if(p.type==="api")try{const C=await $({method:p.method||"GET",url:p.url,data:p.body||{},params:p.params||{},headers:p.headers||{}});x||u(C.data||{})}catch(C){console.error("API fetch failed:",C),x||u({})}if(p.type==="sql"&&p.refid&&p.refid!="0"){if(!d){console.error("SQL source requires formJson.endPoints but it is missing");return}try{const C=await $({method:"POST",url:d.baseURL+d.registerQuery,data:{query:{...p,cols:p.cols,table:p.table,where:W(p.where,{refid:p.refid})}},headers:{Authorization:`Bearer ${d?.accessToken}`}}),E=await $({method:"POST",url:d.baseURL+d.runQuery,data:{queryid:C.data.queryid,filter:{}},headers:{Authorization:`Bearer ${d?.accessToken}`}}),R=xe(E)??{};x||u(R)}catch(C){console.error("API fetch failed:",C)}}})(),()=>{x=!0}},[r?.source?.type||"",r?.source?.method||"",r?.source?.url||"",JSON.stringify(r?.source?.params||{}),JSON.stringify(r?.source?.body||{}),JSON.stringify(r?.source?.headers||{})]);const w=S.common||null;w&&delete S.common;const _=x=>{switch(x){case"accordion":return e.jsx(_e,{groups:S,methods:y,infoData:i,viewRenderers:l,sqlOpsUrls:d,refid:b});case"tab":case"tableft":case"tabright":return e.jsx(je,{groups:S,viewRenderers:l,layoutConfig:o,methods:y,infoData:i,isCommonInfo:!!w,viewMode:x,sqlOpsUrls:d,refid:b});case"cards":return e.jsx(Me,{groups:S,viewRenderers:l,methods:y,infoData:i,sqlOpsUrls:d,refid:b});default:return e.jsx(je,{groups:S,viewRenderers:l,layoutConfig:o,methods:y,infoData:i,isCommonInfo:!!w,viewMode:x,sqlOpsUrls:d,refid:b})}};return e.jsxs("div",{className:o.containerClass||"flex flex-col ",children:[w&&e.jsx(Ae,{commonInfo:w,infoData:i,hiddenFields:m}),_(c)]})}B.InfoView=$e,Object.defineProperty(B,Symbol.toStringTag,{value:"Module"})});
